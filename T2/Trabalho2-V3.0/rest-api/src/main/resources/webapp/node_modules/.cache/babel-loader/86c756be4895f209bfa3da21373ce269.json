{"ast":null,"code":"import _classCallCheck from\"/home/joao/Desktop/so2-2020/T2/Trabalho2-V3.0/rest-api/src/main/resources/webapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/joao/Desktop/so2-2020/T2/Trabalho2-V3.0/rest-api/src/main/resources/webapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/joao/Desktop/so2-2020/T2/Trabalho2-V3.0/rest-api/src/main/resources/webapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/joao/Desktop/so2-2020/T2/Trabalho2-V3.0/rest-api/src/main/resources/webapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/joao/Desktop/so2-2020/T2/Trabalho2-V3.0/rest-api/src/main/resources/webapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{Route,NavLink,HashRouter}from\"react-router-dom\";import axios from\"axios\";//Components\nimport Home from\"./Home\";import Registry from\"./Registry\";import SignIn from\"./SignIn\";import LogIn from\"./LogIn\";import Contact from\"./Contact\";var config={api:\"https://localhost:8443\"};var Main=/*#__PURE__*/function(_Component){_inherits(Main,_Component);var _super=_createSuper(Main);function Main(props){var _this;_classCallCheck(this,Main);_this=_super.call(this,props);_this.state={token:\"\",logedin:false};//Method Binding\n_this.login=_this.login.bind(_assertThisInitialized(_this));//Axios\naxios.defaults.baseURL=config.api;axios.defaults.headers.post[\"Content-Type\"]=\"application/json;charset=utf-8\";//Testing\n_this.login(\"admin\",\"admin\");return _this;}//Methods\n_createClass(Main,[{key:\"login\",value:function login(username,password){var _this2=this;if(this.state.logedin)return;var body={username:username,password:password};axios.post(\"/login\",body).then(function(response){_this2.setState({token:response.data.token,logedin:true});}).catch(function(err){return console.log(err);});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(HashRouter,null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h1\",null,\"Ocupa\\xE7\\xE3o de Espa\\xE7os Comerciais\"),/*#__PURE__*/React.createElement(\"ul\",{className:\"header\"},/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(NavLink,{exact:true,to:\"/home\"},\"Home\")),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(NavLink,{to:\"/registry\"},\"Registry\")),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(NavLink,{to:\"/signin\"},\"Sign In\")),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(NavLink,{to:\"/login\"},\"Log In\")),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(NavLink,{to:\"/contact\"},\"Contact\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"content\"},/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/home\",component:Home}),/*#__PURE__*/React.createElement(Route,{path:\"/registry\",component:Registry}),/*#__PURE__*/React.createElement(Route,{path:\"/signin\",component:SignIn}),/*#__PURE__*/React.createElement(Route,{path:\"/login\",component:LogIn}),/*#__PURE__*/React.createElement(Route,{path:\"/contact\",component:Contact}))));}}]);return Main;}(Component);export default Main;","map":{"version":3,"sources":["/home/joao/Desktop/so2-2020/T2/Trabalho2-V3.0/rest-api/src/main/resources/webapp/src/Main.js"],"names":["React","Component","Route","NavLink","HashRouter","axios","Home","Registry","SignIn","LogIn","Contact","config","api","Main","props","state","token","logedin","login","bind","defaults","baseURL","headers","post","username","password","body","then","response","setState","data","catch","err","console","log"],"mappings":"m+BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,KAAT,CAAgBC,OAAhB,CAAyBC,UAAzB,KAA2C,kBAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA;AACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CAEA,GAAMC,CAAAA,MAAM,CAAG,CACXC,GAAG,CAAE,wBADM,CAAf,C,GAIMC,CAAAA,I,4FACF,cAAYC,KAAZ,CAAmB,sCACf,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACTC,KAAK,CAAE,EADE,CAETC,OAAO,CAAE,KAFA,CAAb,CAKA;AACA,MAAKC,KAAL,CAAa,MAAKA,KAAL,CAAWC,IAAX,+BAAb,CAEA;AACAd,KAAK,CAACe,QAAN,CAAeC,OAAf,CAAyBV,MAAM,CAACC,GAAhC,CACAP,KAAK,CAACe,QAAN,CAAeE,OAAf,CAAuBC,IAAvB,CAA4B,cAA5B,EACI,gCADJ,CAGA;AACA,MAAKL,KAAL,CAAW,OAAX,CAAoB,OAApB,EAhBe,aAiBlB,CAED;qDACMM,Q,CAAUC,Q,CAAU,iBACtB,GAAI,KAAKV,KAAL,CAAWE,OAAf,CAAwB,OAExB,GAAIS,CAAAA,IAAI,CAAG,CACPF,QAAQ,CAAEA,QADH,CAEPC,QAAQ,CAAEA,QAFH,CAAX,CAKApB,KAAK,CACAkB,IADL,CACU,QADV,CACoBG,IADpB,EAEKC,IAFL,CAEU,SAACC,QAAD,CAAc,CAChB,MAAI,CAACC,QAAL,CAAc,CAAEb,KAAK,CAAEY,QAAQ,CAACE,IAAT,CAAcd,KAAvB,CAA8BC,OAAO,CAAE,IAAvC,CAAd,EACH,CAJL,EAKKc,KALL,CAKW,SAACC,GAAD,QAASC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAT,EALX,EAMH,C,uCAEQ,CACL,mBACI,oBAAC,UAAD,mBACI,4CACI,wEADJ,cAGI,0BAAI,SAAS,CAAC,QAAd,eACI,2CACI,oBAAC,OAAD,EAAS,KAAK,KAAd,CAAe,EAAE,CAAC,OAAlB,SADJ,CADJ,cAMI,2CACI,oBAAC,OAAD,EAAS,EAAE,CAAC,WAAZ,aADJ,CANJ,cASI,2CACI,oBAAC,OAAD,EAAS,EAAE,CAAC,SAAZ,YADJ,CATJ,cAYI,2CACI,oBAAC,OAAD,EAAS,EAAE,CAAC,QAAZ,WADJ,CAZJ,cAeI,2CACI,oBAAC,OAAD,EAAS,EAAE,CAAC,UAAZ,YADJ,CAfJ,CAHJ,cAsBI,2BAAK,SAAS,CAAC,SAAf,eACI,oBAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,OAAlB,CAA0B,SAAS,CAAE1B,IAArC,EADJ,cAEI,oBAAC,KAAD,EAAO,IAAI,CAAC,WAAZ,CAAwB,SAAS,CAAEC,QAAnC,EAFJ,cAGI,oBAAC,KAAD,EAAO,IAAI,CAAC,SAAZ,CAAsB,SAAS,CAAEC,MAAjC,EAHJ,cAII,oBAAC,KAAD,EAAO,IAAI,CAAC,QAAZ,CAAqB,SAAS,CAAEC,KAAhC,EAJJ,cAKI,oBAAC,KAAD,EAAO,IAAI,CAAC,UAAZ,CAAuB,SAAS,CAAEC,OAAlC,EALJ,CAtBJ,CADJ,CADJ,CAkCH,C,kBAxEcT,S,EA2EnB,cAAeY,CAAAA,IAAf","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Route, NavLink, HashRouter } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\n//Components\r\nimport Home from \"./Home\";\r\nimport Registry from \"./Registry\";\r\nimport SignIn from \"./SignIn\";\r\nimport LogIn from \"./LogIn\";\r\nimport Contact from \"./Contact\";\r\n\r\nconst config = {\r\n    api: \"https://localhost:8443\",\r\n};\r\n\r\nclass Main extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            token: \"\",\r\n            logedin: false,\r\n        };\r\n\r\n        //Method Binding\r\n        this.login = this.login.bind(this);\r\n\r\n        //Axios\r\n        axios.defaults.baseURL = config.api;\r\n        axios.defaults.headers.post[\"Content-Type\"] =\r\n            \"application/json;charset=utf-8\";\r\n\r\n        //Testing\r\n        this.login(\"admin\", \"admin\");\r\n    }\r\n\r\n    //Methods\r\n    login(username, password) {\r\n        if (this.state.logedin) return;\r\n\r\n        let body = {\r\n            username: username,\r\n            password: password,\r\n        };\r\n\r\n        axios\r\n            .post(\"/login\", body)\r\n            .then((response) => {\r\n                this.setState({ token: response.data.token, logedin: true });\r\n            })\r\n            .catch((err) => console.log(err));\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <HashRouter>\r\n                <div>\r\n                    <h1>Ocupação de Espaços Comerciais</h1>\r\n\r\n                    <ul className=\"header\">\r\n                        <li>\r\n                            <NavLink exact to=\"/home\">\r\n                                Home\r\n                            </NavLink>\r\n                        </li>\r\n                        <li>\r\n                            <NavLink to=\"/registry\">Registry</NavLink>\r\n                        </li>\r\n                        <li>\r\n                            <NavLink to=\"/signin\">Sign In</NavLink>\r\n                        </li>\r\n                        <li>\r\n                            <NavLink to=\"/login\">Log In</NavLink>\r\n                        </li>\r\n                        <li>\r\n                            <NavLink to=\"/contact\">Contact</NavLink>\r\n                        </li>\r\n                    </ul>\r\n                    <div className=\"content\">\r\n                        <Route exact path=\"/home\" component={Home} />\r\n                        <Route path=\"/registry\" component={Registry} />\r\n                        <Route path=\"/signin\" component={SignIn} />\r\n                        <Route path=\"/login\" component={LogIn} />\r\n                        <Route path=\"/contact\" component={Contact} />\r\n                    </div>\r\n                </div>\r\n            </HashRouter>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Main;\r\n"]},"metadata":{},"sourceType":"module"}